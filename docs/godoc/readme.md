<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# Sex

```go
import "github.com/Plankiton/SexPistol"
```

## Index

- [Constants](<#constants>)
- [func Copy(source interface{}, destine interface{}) error](<#func-copy>)
- [func Debug(v ...interface{})](<#func-debug>)
- [func Die(args ...interface{})](<#func-die>)
- [func Dief(args ...interface{})](<#func-dief>)
- [func Err(args ...interface{})](<#func-err>)
- [func Errf(args ...interface{})](<#func-errf>)
- [func Fmt(s string, v ...interface{}) string](<#func-fmt>)
- [func FromJSON(encoded []byte, v interface{}) error](<#func-fromjson>)
- [func GetEnv(key string, def string) string](<#func-getenv>)
- [func GetPathPattern(t string) string](<#func-getpathpattern>)
- [func GetPathVars(t string, p string) (map[string]string, error)](<#func-getpathvars>)
- [func IndexOf(i interface{}, l interface{}) int](<#func-indexof>)
- [func Jsonify(v interface{}) []byte](<#func-jsonify>)
- [func Log(args ...interface{})](<#func-log>)
- [func Logf(args ...interface{})](<#func-logf>)
- [func Merge(source interface{}, destine interface{}, override ...bool) (interface{}, error)](<#func-merge>)
- [func RawLog(typ string, useCaller bool, args ...interface{})](<#func-rawlog>)
- [func StatusText(code int) string](<#func-statustext>)
- [func UseLogger(l *Logger)](<#func-uselogger>)
- [func War(args ...interface{})](<#func-war>)
- [func Warf(args ...interface{})](<#func-warf>)
- [type Bullet](<#type-bullet>)
- [type Config](<#type-config>)
- [type Dict](<#type-dict>)
- [type Json](<#type-json>)
- [type Logger](<#type-logger>)
  - [func NewLogger() *Logger](<#func-newlogger>)
- [type Pistol](<#type-pistol>)
  - [func NewPistol() *Pistol](<#func-newpistol>)
  - [func (pistol *Pistol) Add(path string, route interface{}, methods ...string) *Pistol](<#func-pistol-add>)
  - [func (pistol *Pistol) AddPlugin(plugin Plugin) *Pistol](<#func-pistol-addplugin>)
  - [func (pistol *Pistol) Error() error](<#func-pistol-error>)
  - [func (pistol *Pistol) GetPath() string](<#func-pistol-getpath>)
  - [func (pistol *Pistol) GetRoutes() Dict](<#func-pistol-getroutes>)
  - [func (pistol *Pistol) Run(a ...interface{}) error](<#func-pistol-run>)
  - [func (pistol *Pistol) ServeHTTP(w http.ResponseWriter, r *http.Request)](<#func-pistol-servehttp>)
  - [func (pistol *Pistol) SetErr(err error)](<#func-pistol-seterr>)
- [type Plugin](<#type-plugin>)
- [type Prop](<#type-prop>)
  - [func (h Prop) Add(key, value string)](<#func-prop-add>)
  - [func (h Prop) Del(key string)](<#func-prop-del>)
  - [func (h Prop) Get(key string) string](<#func-prop-get>)
  - [func (h Prop) Has(key string) bool](<#func-prop-has>)
  - [func (h Prop) Set(key, value string)](<#func-prop-set>)
  - [func (h Prop) Values(key string) []string](<#func-prop-values>)
- [type Request](<#type-request>)
  - [func NewRequest() *Request](<#func-newrequest>)
  - [func (self *Request) JsonBody(v interface{}) error](<#func-request-jsonbody>)
  - [func (self *Request) RawBody(b *[]byte) error](<#func-request-rawbody>)
- [type Response](<#type-response>)
  - [func NewResponse() *Response](<#func-newresponse>)
  - [func (self *Response) Header() http.Header](<#func-response-header>)
  - [func (self *Response) SetBody(v []byte) *Response](<#func-response-setbody>)
  - [func (self *Response) SetCookie(key string, value string, expires time.Duration) *Response](<#func-response-setcookie>)
  - [func (self *Response) SetStatus(code int) *Response](<#func-response-setstatus>)
  - [func (r *Response) WriteHeader(status int)](<#func-response-writeheader>)


## Constants

```go
const (
    LogLevelInfo  = "\033[32;1m[info] \033[00m"
    LogLevelWarn  = "\033[33;1m[warn] \033[00m"
    LogLevelError = "\033[31;1m[fail] \033[00m"
)
```

```go
const (
    StatusContinue           = 100
    StatusSwitchingProtocols = 101
    StatusProcessing         = 102
    StatusEarlyHints         = 103

    StatusOK                   = 200
    StatusCreated              = 201
    StatusAccepted             = 202
    StatusNonAuthoritativeInfo = 203
    StatusNoContent            = 204
    StatusResetContent         = 205
    StatusPartialContent       = 206
    StatusMultiStatus          = 207
    StatusAlreadyReported      = 208
    StatusIMUsed               = 226

    StatusMultipleChoices  = 300
    StatusMovedPermanently = 301
    StatusFound            = 302
    StatusSeeOther         = 303
    StatusNotModified      = 304
    StatusUseProxy         = 305

    StatusTemporaryRedirect = 307
    StatusPermanentRedirect = 308

    StatusBadRequest                   = 400
    StatusUnauthorized                 = 401
    StatusPaymentRequired              = 402
    StatusForbidden                    = 403
    StatusNotFound                     = 404
    StatusMethodNotAllowed             = 405
    StatusNotAcceptable                = 406
    StatusProxyAuthRequired            = 407
    StatusRequestTimeout               = 408
    StatusConflict                     = 409
    StatusGone                         = 410
    StatusLengthRequired               = 411
    StatusPreconditionFailed           = 412
    StatusRequestEntityTooLarge        = 413
    StatusRequestURITooLong            = 414
    StatusUnsupportedMediaType         = 415
    StatusRequestedRangeNotSatisfiable = 416
    StatusExpectationFailed            = 417
    StatusTeapot                       = 418
    StatusMisdirectedRequest           = 421
    StatusUnprocessableEntity          = 422
    StatusLocked                       = 423
    StatusFailedDependency             = 424
    StatusTooEarly                     = 425
    StatusUpgradeRequired              = 426
    StatusPreconditionRequired         = 428
    StatusTooManyRequests              = 429
    StatusRequestHeaderFieldsTooLarge  = 431
    StatusUnavailableForLegalReasons   = 451

    StatusInternalServerError           = 500
    StatusNotImplemented                = 501
    StatusBadGateway                    = 502
    StatusServiceUnavailable            = 503
    StatusGatewayTimeout                = 504
    StatusHTTPVersionNotSupported       = 505
    StatusVariantAlsoNegotiates         = 506
    StatusInsufficientStorage           = 507
    StatusLoopDetected                  = 508
    StatusNotExtended                   = 510
    StatusNetworkAuthenticationRequired = 511
)
```

## func [Copy](<https://github.com/plankiton/SexPistol/blob/root/util.go#L23>)

```go
func Copy(source interface{}, destine interface{}) error
```

Sex utility function to make copy of map or struct to another map or struct Required: Destine need to be a pointer Example: var m struct \{ Name string \`json:"name"\` \} j := Dict\{ "name": "Joao"\, \} Sex\.Copy\(j\, &m\)

## func [Debug](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L114>)

```go
func Debug(v ...interface{})
```

Debuging stdout display

## func [Die](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L75>)

```go
func Die(args ...interface{})
```

Logging error logs with Sex\.Logger\(\) and killing the application

## func [Dief](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L108>)

```go
func Dief(args ...interface{})
```

Logging error logs with Sex\.Logger\(\) and killing the application Example: Dief\("%s %\+v"\, "joao"\, \[\]string\{"joao"\, "maria"\}\) Dief\("%\.2f"\, 409\.845\)

## func [Err](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L65>)

```go
func Err(args ...interface{})
```

Logging error logs with Sex\.Logger\(\)

## func [Errf](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L92>)

```go
func Errf(args ...interface{})
```

Logging error formated logs with Sex\.Logger\(\) Example: Errf\("%s %\+v"\, "joao"\, \[\]string\{"joao"\, "maria"\}\) Errf\("%\.2f"\, 409\.845\)

## func [Fmt](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L17>)

```go
func Fmt(s string, v ...interface{}) string
```

Geting formated string

## func [FromJSON](<https://github.com/plankiton/SexPistol/blob/root/util.go#L74>)

```go
func FromJSON(encoded []byte, v interface{}) error
```

FromJSON function thats parse a byte list on a json and write on a variable Required: v needs to be a pointer

## func [GetEnv](<https://github.com/plankiton/SexPistol/blob/root/util.go#L85>)

```go
func GetEnv(key string, def string) string
```

GetEnv function thats get a environment var or default value if var does not exist

## func [GetPathPattern](<https://github.com/plankiton/SexPistol/blob/root/request.go#L54>)

```go
func GetPathPattern(t string) string
```

Function to get regex pattern of a Sex path template Example: Sex\.GetPathPattern\("/hello/\{name\}"\)

## func [GetPathVars](<https://github.com/plankiton/SexPistol/blob/root/request.go#L90>)

```go
func GetPathVars(t string, p string) (map[string]string, error)
```

Function to get variables of a path using a Sex path template Example: Sex\.GetPathVars\("/hello/\{name\}"\, "/hello/joao"\)

## func [IndexOf](<https://github.com/plankiton/SexPistol/blob/root/util.go#L94>)

```go
func IndexOf(i interface{}, l interface{}) int
```

IndexOf function to index first ocurrence of string on string slice

## func [Jsonify](<https://github.com/plankiton/SexPistol/blob/root/util.go#L79>)

```go
func Jsonify(v interface{}) []byte
```

Jsonify function thats parse a byte list on a json and write on a variable

## func [Log](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L60>)

```go
func Log(args ...interface{})
```

Logging information logs with Sex\.Logger\(\)

## func [Logf](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L84>)

```go
func Logf(args ...interface{})
```

Logging information formated logs with Sex\.Logger\(\) Example: Logf\("%s %\+v"\, "joao"\, \[\]string\{"joao"\, "maria"\}\) Logf\("%\.2f"\, 409\.845\)

## func [Merge](<https://github.com/plankiton/SexPistol/blob/root/util.go#L49>)

```go
func Merge(source interface{}, destine interface{}, override ...bool) (interface{}, error)
```

Sex utility function to make merge of map or struct and another map or struct Required: Destine need to be a pointer Example: var m := struct \{ Name string \`json:"name"\` \} \{ Name: "Joao"\, \} j := Dict\{ "idade": "Joao"\, "name": nil\, \} f := Sex\.Merge\(m\, &j\)

Merge rules: If the field on source dont exists on destine it will be created \(just if destine are map\) If the field on source exists on destine but are dont seted it will be seted If the field on source exists on destine but are seted it will not be seted If override are seted as true\, the field on destine will be overrided by source

## func [RawLog](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L40>)

```go
func RawLog(typ string, useCaller bool, args ...interface{})
```

Logging a raw log

## func [StatusText](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L213>)

```go
func StatusText(code int) string
```

StatusText returns a text for the HTTP status code\. It returns the empty string if the code is unknown\.

## func [UseLogger](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L35>)

```go
func UseLogger(l *Logger)
```

Set SexPistol logger

## func [War](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L70>)

```go
func War(args ...interface{})
```

Logging warning logs with Sex\.Logger\(\)

## func [Warf](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L100>)

```go
func Warf(args ...interface{})
```

Logging warning formated logs with Sex\.Logger\(\) Example: Warf\("%s %\+v"\, "joao"\, \[\]string\{"joao"\, "maria"\}\) Warf\("%\.2f"\, 409\.845\)

## type [Bullet](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L6-L10>)

Suggested template for Sex\.Json endpoint functions

```go
type Bullet struct {
    Message string      `json:"message,omitempty"`
    Type    string      `json:"type,omitempty"`
    Data    interface{} `json:"data,omitempty"`
}
```

## type [Config](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L67>)

Config is group of properties \(Prop\)

```go
type Config map[string]Prop
```

## type [Dict](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L70>)

Dict is dictionary key:value\, but key is always string

```go
type Dict map[string]interface{}
```

## type [Json](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L13>)

Json  Sex type for json format endpoint outputs

```go
type Json interface{}
```

## type [Logger](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L23-L25>)

```go
type Logger struct {
    log.Logger
}
```

### func [NewLogger](<https://github.com/plankiton/SexPistol/blob/root/logging.go#L28>)

```go
func NewLogger() *Logger
```

Get SexPistol logger

## type [Pistol](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L17-L27>)

Pistol is the Sex HTTP handler\, who are used to setup http server Example: router := Sex\.NewPistol\(\)\. Add\("/"\, func\(Sex\.Request\) string \{ return "Hello World" \}\)\. Run\(\)

```go
type Pistol struct {
    *http.ServeMux
    // contains filtered or unexported fields
}
```

### func [NewPistol](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L50>)

```go
func NewPistol() *Pistol
```

Function thats create a Sex\.Pistol and create the init configurations Example: router := Sex\.NewPistol\(\)

### func \(\*Pistol\) [Add](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L86>)

```go
func (pistol *Pistol) Add(path string, route interface{}, methods ...string) *Pistol
```

Function to Add endpoints to the Sex\.Pistol Server path are the endpoint location route is a void interface thats need to be on next format list: \- func \(http\.ResponseWriter\, \*http\.Request\) \- func \(Sex\.Request\) Sex\.Response \(res\, status\) \- func \(Sex\.Request\) string   // Or \(string\,   int\) \- func \(Sex\.Request\) \[\]byte   // Or \(\[\]byte\,   int\) \- func \(Sex\.Request\) Sex\.Json // Or \(Sex\.Json\, int\) methods are a list of accepted HTTP methods to endpoint Example: router\.Add\("/"\, func\(Sex\.Request\) string \{ return "Hello World" \}\, "POST"\) router\.Add\("/ok"\, func\(Sex\.Request\) Sex\.Json\, int \{ return map\[stirng\]bool\{ "ok": true\, \}\, 404 \}\)

### func \(\*Pistol\) [AddPlugin](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L111>)

```go
func (pistol *Pistol) AddPlugin(plugin Plugin) *Pistol
```

Add plugin to Sex Pistol

### func \(\*Pistol\) [Error](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L42>)

```go
func (pistol *Pistol) Error() error
```

Get Pistol last error

### func \(\*Pistol\) [GetPath](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L36>)

```go
func (pistol *Pistol) GetPath() string
```

Get Pistol running path

### func \(\*Pistol\) [GetRoutes](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L39>)

```go
func (pistol *Pistol) GetRoutes() Dict
```

Get Pistol route list

### func \(\*Pistol\) [Run](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L124>)

```go
func (pistol *Pistol) Run(a ...interface{}) error
```

Function to execute de Sex\.Pistol server Example: pistol\.Run\(5000\)        // Will run server on port 5000 pistol\.Run\("/joao"\)     // will run server on path "/joao" pistol\.Run\("/joao"\, 80\) // will run server on path "/joao" and port 80 pistol\.Run\(80\, "/joao"\) // will run server on path "/joao" and port 80

If you run a Sex Pistol server with $SEX\_DEBUG setted as "true" thats function will to log list all Sex endpoints of router

### func \(\*Pistol\) [ServeHTTP](<https://github.com/plankiton/SexPistol/blob/root/root.go#L11>)

```go
func (pistol *Pistol) ServeHTTP(w http.ResponseWriter, r *http.Request)
```

Function to make Sex\.Pistol a http\.Handler

### func \(\*Pistol\) [SetErr](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L45>)

```go
func (pistol *Pistol) SetErr(err error)
```

Set Pistol last error

## type [Plugin](<https://github.com/plankiton/SexPistol/blob/root/pistol.go#L29-L33>)

```go
type Plugin interface {
    Name() string
    Init(*Pistol) (*Pistol, error)
    Root(http.ResponseWriter, *http.Request) (http.ResponseWriter, *http.Request)
}
```

## type [Prop](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L16>)

Prop are map of properties

```go
type Prop map[string][]string
```

### func \(Prop\) [Add](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L21>)

```go
func (h Prop) Add(key, value string)
```

Add adds the key\, value pair to the header\. It appends to any existing values associated with key\. The key is case sensitive\.

### func \(Prop\) [Del](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L62>)

```go
func (h Prop) Del(key string)
```

Del deletes the values associated with key\. The key is case sensitive\.

### func \(Prop\) [Get](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L40>)

```go
func (h Prop) Get(key string) string
```

Get gets the first value associated with the given key\. If there are no values associated with the key\, Get returns ""\. It is case sensitive\.

### func \(Prop\) [Has](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L55>)

```go
func (h Prop) Has(key string) bool
```

Has reports whether h has the provided key defined\, even if it's set to 0\-length slice\.

### func \(Prop\) [Set](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L28>)

```go
func (h Prop) Set(key, value string)
```

Set sets the header entries associated with key to the single element value\. It replaces any existing values associated with key\. The key and value is case sensitive\.

### func \(Prop\) [Values](<https://github.com/plankiton/SexPistol/blob/root/templates.go#L49>)

```go
func (h Prop) Values(key string) []string
```

Values returns all values associated with the given key\. It is case sensitive

## type [Request](<https://github.com/plankiton/SexPistol/blob/root/request.go#L18-L22>)

Request properties sent by client \(\*http\.Request\) with inproviments like path variables and Pistol Route configurations Example: router\.Add\("/hello/\{name\}"\, func \(r Sex\.Request\) string \{ name := r\.PathVars\["name"\] return "Hello "\+ name \}

```go
type Request struct {
    http.Request
    PathVars Prop
    Conf     Prop
}
```

### func [NewRequest](<https://github.com/plankiton/SexPistol/blob/root/request.go#L25>)

```go
func NewRequest() *Request
```

Request constructor function

### func \(\*Request\) [JsonBody](<https://github.com/plankiton/SexPistol/blob/root/request.go#L33>)

```go
func (self *Request) JsonBody(v interface{}) error
```

Request function to write Json body on a variable Example: var data map\[string\]interface\{\} // Can be Structs too r\.JsonBody\(&data\)

### func \(\*Request\) [RawBody](<https://github.com/plankiton/SexPistol/blob/root/request.go#L43>)

```go
func (self *Request) RawBody(b *[]byte) error
```

Request function to write \[\]byte body on a variable Example: var data \[\]byte r\.RawBody\(&data\)

## type [Response](<https://github.com/plankiton/SexPistol/blob/root/response.go#L10-L15>)

Response to make complete response with Cookies\, Headers\, and all http\.ResponseWrite another features

```go
type Response struct {
    http.ResponseWriter
    Headers *http.Header
    Body    []byte
    Status  int
}
```

### func [NewResponse](<https://github.com/plankiton/SexPistol/blob/root/response.go#L59>)

```go
func NewResponse() *Response
```

Response constructor function

### func \(\*Response\) [Header](<https://github.com/plankiton/SexPistol/blob/root/response.go#L47>)

```go
func (self *Response) Header() http.Header
```

Header returns response headers setter

### func \(\*Response\) [SetBody](<https://github.com/plankiton/SexPistol/blob/root/response.go#L23>)

```go
func (self *Response) SetBody(v []byte) *Response
```

Function to set Response body

### func \(\*Response\) [SetCookie](<https://github.com/plankiton/SexPistol/blob/root/response.go#L35>)

```go
func (self *Response) SetCookie(key string, value string, expires time.Duration) *Response
```

Function to set Response cookies

### func \(\*Response\) [SetStatus](<https://github.com/plankiton/SexPistol/blob/root/response.go#L29>)

```go
func (self *Response) SetStatus(code int) *Response
```

Function to set Response status code

### func \(\*Response\) [WriteHeader](<https://github.com/plankiton/SexPistol/blob/root/response.go#L18>)

```go
func (r *Response) WriteHeader(status int)
```

Function to set Response status code



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
